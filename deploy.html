<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deploy to Azure - Configuration Wizard</title>
    <link rel="stylesheet" href="deploy-styles.css">
</head>
<body>
    <div class="deploy-container">
        <header class="deploy-header">
            <h1>üöÄ Deploy to Azure</h1>
            <p class="subtitle">Configure your Azure vs Databricks Advisor deployment</p>
        </header>

        <div class="wizard-container">
            <div class="steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">AI Provider</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Configuration</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Deploy</div>
                </div>
            </div>

            <form id="deployForm" class="wizard-form">
                <!-- Step 1: AI Provider Selection -->
                <div class="step-content active" data-step="1">
                    <h2>Choose your AI Provider</h2>
                    <p class="step-description">Select which AI service you'll use to power the advisor</p>

                    <div class="provider-cards">
                        <div class="provider-card" data-provider="openai">
                            <div class="provider-icon">ü§ñ</div>
                            <h3>Standard OpenAI</h3>
                            <p>Use OpenAI's public API</p>
                            <ul>
                                <li>Latest models (GPT-4o, o1)</li>
                                <li>Pay-as-you-go pricing</li>
                                <li>Quick setup</li>
                            </ul>
                            <button type="button" class="select-provider-btn">Select</button>
                        </div>

                        <div class="provider-card" data-provider="azure">
                            <div class="provider-icon">‚òÅÔ∏è</div>
                            <h3>Azure OpenAI</h3>
                            <p>Use Azure OpenAI Service</p>
                            <ul>
                                <li>Enterprise security</li>
                                <li>Data residency</li>
                                <li>SLA guarantees</li>
                            </ul>
                            <button type="button" class="select-provider-btn">Select</button>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Configuration -->
                <div class="step-content" data-step="2">
                    <h2>Configure your deployment</h2>

                    <!-- OpenAI Configuration -->
                    <div id="openaiConfig" class="config-section" style="display: none;">
                        <div class="form-group">
                            <label for="openaiKey">OpenAI API Key *</label>
                            <input type="password" id="openaiKey" placeholder="sk-...">
                            <small>Get your key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI Platform</a></small>
                        </div>

                        <div class="form-group">
                            <label for="openaiModel">Model</label>
                            <select id="openaiModel">
                                <option value="gpt-4o">GPT-4o (Recommended)</option>
                                <option value="gpt-4o-mini">GPT-4o Mini (Faster)</option>
                                <option value="gpt-4-turbo">GPT-4 Turbo</option>
                                <option value="gpt-4.1">GPT-4.1</option>
                                <option value="gpt-4">GPT-4</option>
                                <option value="o1-preview">o1 Preview</option>
                                <option value="o1-mini">o1 Mini</option>
                            </select>
                        </div>
                    </div>

                    <!-- Azure OpenAI Configuration -->
                    <div id="azureConfig" class="config-section" style="display: none;">
                        <div class="form-group">
                            <label for="azureEndpoint">Azure OpenAI Endpoint *</label>
                            <input type="text" id="azureEndpoint" placeholder="https://your-resource.openai.azure.com">
                            <small>Your Azure OpenAI resource endpoint (without /openai/deployments path)</small>
                        </div>

                        <div class="form-group">
                            <label for="azureKey">Azure OpenAI Key *</label>
                            <input type="password" id="azureKey" placeholder="Your Azure OpenAI API key">
                            <small>Find this in Azure Portal ‚Üí Your OpenAI Resource ‚Üí Keys and Endpoint</small>
                        </div>

                        <div class="form-group">
                            <label for="azureDeployment">Deployment Name *</label>
                            <input type="text" id="azureDeployment" placeholder="gpt-4.1">
                            <small>Your model deployment name from Azure Portal</small>
                        </div>

                        <div class="form-group">
                            <label for="azureApiVersion">API Version</label>
                            <select id="azureApiVersion">
                                <option value="2025-01-01-preview">2025-01-01-preview (Latest)</option>
                                <option value="2024-08-01-preview">2024-08-01-preview</option>
                                <option value="2024-02-15-preview">2024-02-15-preview</option>
                                <option value="2023-05-15">2023-05-15</option>
                            </select>
                        </div>

                        <div class="info-box">
                            <strong>üí° How to find your Azure OpenAI details:</strong>
                            <p>From your URL: <code>https://your-resource.openai.azure.com/openai/deployments/gpt-4.1/chat/completions?api-version=2025-01-01-preview</code></p>
                            <ul>
                                <li><strong>Endpoint:</strong> https://your-resource.openai.azure.com</li>
                                <li><strong>Deployment:</strong> gpt-4.1</li>
                                <li><strong>API Version:</strong> 2025-01-01-preview</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Common Configuration -->
                    <div class="config-section">
                        <h3>Azure Resources</h3>

                        <div class="form-group">
                            <label for="appName">Application Name</label>
                            <input type="text" id="appName" placeholder="my-databricks-advisor">
                            <small>Unique name for your app (lowercase, no spaces)</small>
                        </div>

                        <div class="form-group">
                            <label for="pricingTier">Pricing Tier</label>
                            <select id="pricingTier">
                                <option value="F1">F1 - Free (Good for testing)</option>
                                <option value="B1" selected>B1 - Basic ($13/month - Recommended)</option>
                                <option value="B2">B2 - Basic ($26/month)</option>
                                <option value="S1">S1 - Standard ($70/month)</option>
                                <option value="P1V2">P1V2 - Premium ($117/month)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="region">Azure Region</label>
                            <select id="region">
                                <option value="eastus">East US</option>
                                <option value="westus">West US</option>
                                <option value="westeurope">West Europe</option>
                                <option value="northeurope">North Europe</option>
                                <option value="uksouth">UK South</option>
                                <option value="southeastasia">Southeast Asia</option>
                                <option value="australiaeast">Australia East</option>
                            </select>
                        </div>
                    </div>

                    <div class="wizard-navigation">
                        <button type="button" class="btn btn-secondary" id="backBtn">‚Üê Back</button>
                        <button type="button" class="btn btn-primary" id="nextBtn">Next ‚Üí</button>
                    </div>
                </div>

                <!-- Step 3: Deploy -->
                <div class="step-content" data-step="3">
                    <h2>Ready to Deploy!</h2>
                    <p class="step-description">Review your configuration and deploy to Azure</p>

                    <div class="config-summary" id="configSummary">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <div class="deploy-actions">
                        <a href="#" id="deployButton" class="deploy-btn" target="_blank">
                            <span class="deploy-icon">‚òÅÔ∏è</span>
                            <span class="deploy-text">Deploy to Azure</span>
                        </a>
                        <p class="deploy-note">You'll be redirected to Azure Portal to complete the deployment</p>
                    </div>

                    <div class="wizard-navigation">
                        <button type="button" class="btn btn-secondary" id="backBtn2">‚Üê Back</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="help-section">
            <h3>Need Help?</h3>
            <div class="help-cards">
                <div class="help-card">
                    <h4>üìö Documentation</h4>
                    <p>Read the full deployment guide</p>
                    <a href="https://github.com/SammyhDev/databricksorazure#readme" target="_blank">View Docs</a>
                </div>
                <div class="help-card">
                    <h4>üí¨ Support</h4>
                    <p>Get help from the community</p>
                    <a href="https://github.com/SammyhDev/databricksorazure/issues" target="_blank">Open Issue</a>
                </div>
            </div>
        </div>
    </div>

    <script src="deploy.js"></script>
</body>
</html>
